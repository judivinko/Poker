/* ====== /public/game.css ======
   Poker Table — full UI (panel sjedala kao na slici)
   Radi uz /public/table.html i /public/table.js
*/

/* ---------- Global ---------- */
:root{
  --bg:#0b0d13;
  --panel:#0f1624;
  --muted:#94a3b8;
  --br:#233047;
  --accent:#22d3ee;

  /* Dimenzije */
  --seat-w: 260px;   /* širina panel-sjedišta */
  --seat-h: 92px;    /* visina panel-sjedišta */
  --avatar: 64px;    /* promjer avatara */
  --card-w:54px;
  --card-h:78px;

  /* Tipografija */
  --nick-size:14px;
  --stack-size:13px;
  --label-size:10px;
}

html,body{
  height:100%;
  margin:0;
  background:var(--bg);
  color:#e5e7eb;
  font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif;
}

.hidden{display:none!important}

/* ---------- Stage / Table ---------- */
.wrap{
  position:relative;
  width:100vw;height:100vh;overflow:hidden;
  display:flex;align-items:center;justify-content:center;
}

#table{
  position:relative;
  width:min(100vw, 100vh);
  height:min(100vw, 100vh);
  background:url('/poker_table.png') center/contain no-repeat;
  box-sizing:border-box;
}

/* ---------- Board (5 community cards) ---------- */
#board{
  position:absolute;
  top:50%;left:50%;
  transform:translate(-50%,-50%);
  display:flex;gap:10px;align-items:center;justify-content:center;
  z-index:5;
}

.card{
  width:var(--card-w);height:var(--card-h);
  background-image:url('/card_front_blank.png');
  background-size:cover;background-position:center;
  border-radius:8px;border:1px solid rgba(255,255,255,.08);
  box-shadow:0 2px 10px rgba(0,0,0,.35);
}
.card.back{ background-image:url('/card_back.png'); }

/* ---------- Pot + Status ---------- */
#pot{
  position:absolute;top:50%;left:50%;
  transform:translate(-50%,-120%);
  font-weight:700;opacity:.95;text-shadow:0 1px 2px #000;
  padding:6px 12px;
  background:rgba(15,22,36,.8);
  border:1px solid var(--br);
  border-radius:999px;
  box-shadow:0 8px 24px rgba(0,0,0,.45);
  z-index:6;
}
#status{
  position:absolute;bottom:6%;left:50%;transform:translateX(-50%);
  opacity:.9;font-size:15px;text-align:center;z-index:6;
  font-weight:700;letter-spacing:.2px;text-shadow:0 1px 1px #000;
}

/* ---------- Actions & Bet box ---------- */
#actions{
  position:absolute;bottom:5%;left:50%;transform:translateX(-50%);
  display:flex;gap:10px;z-index:7;
}
#actions button{
  padding:8px 14px;border:none;border-radius:8px;
  background:var(--accent);color:#000;font-weight:800;cursor:pointer;
  font-size:14px;
}
#actions button.secondary{ background:#2b3445;color:#e5e7eb; }
#actions button.danger{ background:#b91c1c;color:#fff; }

#bet-box{
  position:absolute;bottom:18%;left:50%;transform:translateX(-50%);
  display:flex;gap:8px;align-items:center;z-index:7;
}
#bet-box input{
  width:96px;padding:8px;border-radius:8px;
  background:#0b1220;border:1px solid var(--br);color:#e5e7eb;
  text-align:center;font-weight:700;
}

/* ---------- Seat: PANEL stil kao na slici ---------- */
.seat{
  position:absolute;
  width:var(--seat-w);
  height:var(--seat-h);
  transform:translate(-50%,-50%);
  pointer-events:auto;
  z-index:4;
}

/* kartica-panelska pozadina koja “drži” nick/stack/badge */
.seat::after{
  content:"";
  position:absolute;
  left: 40px;                     /* prostor da avatar “uđe” u panel */
  top: 50%;
  transform: translateY(-50%);
  width: calc(var(--seat-w) - 40px);
  height: calc(var(--seat-h) - 20px);
  background: var(--panel);
  border: 1px solid var(--br);
  border-radius: 14px;
  box-shadow:
    0 10px 30px rgba(0,0,0,.45),
    0 0 0 2px rgba(0,0,0,.25) inset;
}

/* avatar – velik, s akcent prstenom, baca sjenu */
.seat .avatar{
  position:absolute;
  left:-6px;
  top:50%;
  transform:translateY(-50%);
  width:var(--avatar);
  height:var(--avatar);
  border-radius:999px;
  object-fit:cover;
  border:3px solid var(--accent);
  background:#0b1220;
  box-shadow:0 6px 16px rgba(0,0,0,.45);
}

/* nick i stack unutar panela */
.seat .nick{
  position:absolute;
  left: 100px;                     /* uskladi s veličinom avatara */
  top: 20px;
  font-size: var(--nick-size);
  font-weight:800;
  max-width: calc(var(--seat-w) - 120px);
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.seat .stack{
  position:absolute;
  left: 100px;
  bottom: 16px;
  font-size: var(--stack-size);
  color:#23e6a5;
  text-shadow:0 1px 1px rgba(0,0,0,.5);
}

/* značke (dealer/sb/bb) poravnate desno u panelu */
.seat .badges{
  position:absolute;
  right:12px; top:50%; transform:translateY(-50%);
  display:flex; gap:6px; align-items:center; justify-content:center;
}
.badge{
  font-size:var(--label-size);
  background:var(--accent);color:#000;
  padding:1px 6px;border-radius:999px;font-weight:800;
}
.badge.img{ background:transparent; padding:0; }
.badge.img img{ display:block; width:18px; height:18px; }

/* Slike za dealer/sb/bb */
.badge.dealer.img img{ content:url('/dealer_button.png'); }
.badge.sb.img img{ content:url('/small_blind.png'); }
.badge.bb.img img{ content:url('/big_blind.png'); }

/* mala “chip ladica” iznad badgeva (kozmetika) */
.seat .badges::after{
  content:"";
  position:absolute;
  top:-26px; right:8px;
  width:64px; height:10px;
  border-radius:4px;
  background:linear-gradient(#c33,#a11);
  opacity:.85;
  box-shadow:0 2px 0 rgba(0,0,0,.35);
}

/* ---------- 9-max pozicije po elipsi stola ---------- */
.seat[data-i="0"]{ left:50%; top:86%; }
.seat[data-i="1"]{ left:72%; top:79%; }
.seat[data-i="2"]{ left:86%; top:60%; }
.seat[data-i="3"]{ left:84%; top:36%; }
.seat[data-i="4"]{ left:68%; top:18%; }
.seat[data-i="5"]{ left:32%; top:18%; }
.seat[data-i="6"]{ left:16%; top:36%; }
.seat[data-i="7"]{ left:14%; top:60%; }
.seat[data-i="8"]{ left:28%; top:79%; }

/* ---------- Topbar / modali (iz tvog HTML-a) ---------- */
.modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.55);display:none;align-items:center;justify-content:center;z-index:50}
.modal{width:min(92vw,380px);background:#0f1624;border:1px solid #233047;border-radius:14px;padding:16px;display:flex;flex-direction:column;gap:10px}
.modal .row{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
.modal input,.modal select{background:#0b1220;border:1px solid #233047;border-radius:10px;padding:10px;color:#e5e7eb}
.modal button{background:#22d3ee;color:#000;border:none;border-radius:10px;padding:10px 16px;font-weight:800;cursor:pointer}
.modal button.secondary{background:#2b3445;color:#e5e7eb}
#topbar{position:fixed;left:50%;top:10px;transform:translateX(-50%);z-index:40;display:flex;gap:8px;align-items:center}
.pill{background:#0f1624;border:1px solid #233047;border-radius:999px;padding:6px 12px;color:#e5e7eb}
.pill.btn{cursor:pointer;font-weight:800}
.badge.img img{display:block;width:18px;height:18px}

/* ---------- Responsive ---------- */
@media (max-width: 900px){
  :root{
    --seat-w: 220px;
    --seat-h: 84px;
    --avatar: 54px;
    --card-w:48px;
    --card-h:70px;
    --nick-size:13px;
    --stack-size:12px;
  }
  .seat .nick{ left: 88px; top: 16px; }
  .seat .stack{ left: 88px; bottom: 12px; }
}

@media (max-width: 520px){
  :root{
    --seat-w: 200px;
    --seat-h: 78px;
    --avatar: 48px;
    --card-w:44px;
    --card-h:64px;
    --nick-size:12px;
    --stack-size:11px;
  }
  .seat .nick{ left: 80px; top: 14px; }
  .seat .stack{ left: 80px; bottom: 10px; }
}

/* ---------- Utility ---------- */
*{box-sizing:border-box}
